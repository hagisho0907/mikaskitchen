# デプロイメントガイド

## セキュリティチェックリスト

リリース前に必ず以下の項目を確認してください：

### 1. 環境変数の設定

**必須の環境変数：**
- `ADMIN_USERNAME` - 管理者ユーザー名（デフォルト値なし）
- `ADMIN_PASSWORD` - 管理者パスワード（デフォルト値なし）
- `JWT_SECRET` - JWT認証用シークレット（ランダムな文字列）
- `GITHUB_TOKEN` - GitHubパーソナルアクセストークン
- `GITHUB_OWNER` - GitHubユーザー名
- `GITHUB_REPO` - GitHubリポジトリ名

### 2. セキュリティ対策実施済み項目

✅ **認証システム**
- JWTベースのセッション管理
- HTTPOnlyクッキーでのトークン保存
- セキュアな環境でのみSecureフラグを設定

✅ **APIセキュリティ**
- ミドルウェアによるエンドポイント保護
- 管理者以外のデータ更新を防止

✅ **環境変数保護**
- ハードコードされたパスワードを削除
- 環境変数が未設定の場合はエラーを返す

### 3. 推奨セキュリティ設定

**強力なパスワードポリシー：**
- 最低12文字以上
- 大文字・小文字・数字・記号を含む
- 定期的な変更（3ヶ月ごと）

**JWT_SECRETの生成方法：**
```bash
openssl rand -base64 32
```

### 4. デプロイ後の確認事項

1. 管理画面へのアクセステスト
2. お問い合わせフォームの送信テスト
3. イベント・お知らせの更新機能テスト
4. 不正なアクセスの拒否確認

## トラブルシューティング

**管理画面にログインできない場合：**
- 環境変数が正しく設定されているか確認
- Vercelのダッシュボードで環境変数を再確認
- ビルドログでエラーがないか確認

**データ更新ができない場合：**
- GitHub Personal Access Tokenの権限を確認
- リポジトリへのアクセス権限を確認